function documentactions(e){let t=e.target;if(t.classList.contains("header__list__menu")&&(t.nextElementSibling.classList.toggle("active__menu"),t.classList.toggle("activebtn")),!t.classList.contains("header__list__menu")&&document.querySelector(".active__menu")&&(document.querySelector(".active__menu").classList.remove("active__menu"),document.querySelector(".activebtn").classList.remove("activebtn")),t.classList.contains("burger__btn")&&(t.classList.toggle("activebtn"),document.querySelector(".header__menu").classList.toggle("active__burger"),document.querySelector(".header__menu__links").classList.toggle("active__burger")),t.classList.contains("search__btn")&&document.querySelector(".header__search").classList.toggle("active__search"),t.classList.contains("footer__menu__btn")&&(t.classList.toggle("activefmenu"),t.nextElementSibling.classList.toggle("activefmenu")),t.classList.contains("products__morebtn")){t.remove(),document.querySelectorAll(".products__item").forEach(e=>e.style.display="block")}t.classList.contains("product__cartbtn")&&addToCart(t),t.classList.contains("header__actions__bin")&&cartlist.children.length&&cartContainer.classList.toggle("activecart"),t.closest(".cart__container")||!document.querySelector(".activecart")||t.classList.contains("cartitem__delete")||(document.querySelector(".activecart").classList.remove("activecart"),console.log(t))}document.addEventListener("click",documentactions);const mainSlider=document.querySelector(".main__slider__slider");mainSlider.addEventListener("mouseenter",(function(){swiper.autoplay.stop()})),mainSlider.addEventListener("mouseleave",(function(){swiper.autoplay.start()}));const swiper=new Swiper(".main__slider__body",{observer:!0,effect:"coverflow",observeParents:!0,slidesPerView:1,spaceBetween:32,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,parallax:!0,touchRatio:2,autoplay:{},keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".main__slider__dotts",clickable:!0},navigation:{nextEl:".main__slider__nextbtn",prevEl:".main__slider__prevbtn"}}),swiper2=new Swiper(".rooms__slider__body",{observer:!0,effect:"slide",observeParents:!0,slidesPerView:"auto",spaceBetween:24,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,parallax:!0,touchRatio:2,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".rooms__slider__dotts",clickable:!0},navigation:{nextEl:".rooms__slider__nextbtn",prevEl:".rooms__slider__prevbtn"}}),swiperTips=new Swiper(".tips__slider__body",{observer:!0,effect:"slide",observeParents:!0,slidesPerView:3,spaceBetween:32,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,parallax:!0,touchRatio:2,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".tips__slider__dotts",clickable:!0},navigation:{nextEl:".tips__slider__nextbtn",prevEl:".tips__slider__prevbtn"},breakpoints:{320:{slidesPerView:1.1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:40},992:{slidesPerView:3,spaceBetween:35}}});let productsContainer=document.querySelector(".products");async function getProducts(){let e=await fetch("../json/products.json",{method:"GET"});if(e.ok){let t=(await e.json()).products.map(e=>{let t=document.createElement("article");t.classList.add("products__item"),t.id=e.id;let n=[];return e.labels&&(n=e.labels.map(e=>{let t=document.createElement("div");return t.classList.add("product__labels__item"),t.classList.add(""+e.type),t.innerText=e.value,t.outerHTML})),t.innerHTML=`<div class="product__head">\n        <div class="product__img"><img src=${e.image} alt=${e.title}></div>\n        <div class="product__labels">\n        ${n.join(" ")}\n        </div>\n    </div>\n    <div class="product__content">\n        <h3 class="product__title">${e.title}</h3>\n        <p class="product__text">${e.text}</p>\n        <div class="product__prices">\n            <p class="product__prices__actual">${e.price}</p>\n            <p class="product__prices__old">${e.priceOld}</p>\n        </div>\n    </div>\n    <div class="product__actions">\n        <button class="product__cartbtn">Add to cart</button>\n        <a href="#" class="product__sharebtn">Share</a>\n        <a href="#" class="product__likebtn">Like</a>\n    </div>`,t});productsContainer.append(...t)}else alert("Ошибка загрузки товаров")}getProducts();const cartBtn=document.querySelector(".header__actions__bin"),cartCounter=document.querySelector(".header__actions__bin span"),cartlist=document.querySelector(".cart__list"),cartContainer=document.querySelector(".cart");function addToCart(e){let t=e.closest(".products__item"),n=t.querySelector(".product__title"),i=t.querySelector(".product__img"),a=i.cloneNode(!0);a.classList.add("flyimage");let r=i.offsetWidth,s=i.offsetHeight,c=i.getBoundingClientRect().top,o=i.getBoundingClientRect().left;a.style.cssText=`\n    left: ${o}px;\n    top: ${c}px;\n    width: ${r}px;\n    height: ${s}px\n    `,document.body.append(a);const l=cartBtn.getBoundingClientRect().left,d=cartBtn.getBoundingClientRect().top;a.style.cssText=`\n    left: ${l}px;\n    top: ${d}px;\n    width: 0px;\n    height: 0px\n    `;let _=cartlist.querySelector(`[data-id="${t.id}"]`);if(_){_.querySelector(".cartitem__quantity__count").textContent++}else{let e=document.createElement("li");e.setAttribute("data-id",t.id),e.classList.add("cartitem"),e.innerHTML=`\n    <div class="cartitem__img">${a.innerHTML}</div>\n<div class="cartitem__content">\n<p class="cartitem__title">${n.textContent}</p>\n<p class="cartitem__quantity">Quantity:   <span class="cartitem__quantity__count">1</span></p>\n<button class="cartitem__delete">Delete</button>\n</div>\n    `,cartlist.append(e)}cartCounterEdit(),a.addEventListener("transitionend",(function(){cartCounter.style.display="block"}))}function cartCounterEdit(){let e=Array.from(cartlist.querySelectorAll(".cartitem__quantity__count")).map(e=>e.textContent);if(e.length){let t=Array.from(e).reduce((e,t)=>Number(e)+Number(t));cartCounter.textContent=t}else cartCounter.style.display="none",cartContainer.classList.contains("activecart")&&cartContainer.classList.remove("activecart")}cartContainer.addEventListener("click",(function(e){let t=e.target;if(t.classList.contains("cartitem__delete")){let e=t.closest(".cartitem"),n=e.querySelector(".cartitem__quantity__count");n.textContent--,0==n.textContent&&e.remove(),cartCounterEdit()}}));let isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};const galary=document.querySelector(".galary__body");galary.addEventListener("mousemove",(function(e){if(!isMobile.any()){let t=e.pageX-window.innerWidth/2;galary.scrollBy({top:0,left:t})}}));